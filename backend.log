Initializing database tables...
Admin password updated
Sample data already exists
Database initialization complete

========================================
Hospital Management System Backend
========================================
Server running on port 5700
WebSocket server ready
Database connected to Neon PostgreSQL

Default login credentials:
Email: admin@hospital.com
Password: admin123
========================================

Error creating medical record: error: column "follow_up_date" of relation "medical_records" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:415:24 {
  length: 143,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '125',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_target.c',
  line: '1065',
  routine: 'checkInsertTargets'
}
Error creating invoice: error: column "subtotal" of relation "invoices" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:546:24 {
  length: 129,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '81',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_target.c',
  line: '1065',
  routine: 'checkInsertTargets'
}
Error fetching schedules: error: column u.department does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:797:24 {
  length: 169,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: 'Perhaps you meant to reference the column "s.department".',
  position: '48',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3723',
  routine: 'errorMissingColumn'
}
Error admitting patient: error: column "notes" of relation "beds" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:836:24 {
  length: 125,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '117',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'analyze.c',
  line: '2528',
  routine: 'transformUpdateTargetList'
}
Error creating appointment: error: column "duration" of relation "appointments" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:1062:24 {
  length: 133,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '99',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_target.c',
  line: '1065',
  routine: 'checkInsertTargets'
}
Error creating lab results: error: column "ordered_by" of relation "lab_results" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:1130:24 {
  length: 134,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '85',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_target.c',
  line: '1065',
  routine: 'checkInsertTargets'
}
Error creating prescription: error: column "medication" of relation "prescriptions" does not exist
    at /root/hospital-management-system/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async /root/hospital-management-system/hms-backend-working.js:1192:24 {
  length: 136,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '77',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_target.c',
  line: '1065',
  routine: 'checkInsertTargets'
}
SIGTERM received, closing server...
